services:

  db:
    image: postgres
    container_name: postgresql_jatetxea
    restart: always
    shm_size: 128mb
    ports:
      - 5432:5432
    
    volumes:
    - ./initdb.sql:/docker-entrypoint-initdb.d/initdb.sql #datubasea inizializatzeko eta datuak sartzeko
    - ./postgresql:/var/lib/postgresql

    environment:
        POSTGRES_USER: admin #datubasearen erabiltzailea
        POSTGRES_PASSWORD: admin #datubasearen pasahitza
        POSTGRES_DB: jatetxea #datubasearen izena

  adminer:
    image: adminer
    restart: always
    ports:
      - 8080:8080